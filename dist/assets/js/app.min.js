document.addEventListener("DOMContentLoaded",function(t){const e=document.querySelector(".section"),s=e.querySelectorAll(".btn");if(localStorage.getItem("btns")){let t=JSON.parse(localStorage.getItem("btns"));t.forEach(t=>{document.getElementById(t.id).classList.add("btn_cart"),document.getElementById(t.id).innerHTML='<img src="./assets/img/ok.svg" alt="ok"></img> В корзине'})}s.forEach(t=>{t.addEventListener("click",e=>{e.target.classList.contains("btn_cart")||(e.target.innerHTML='<div class="loader"></div>',setTimeout(()=>{fetch("https://jsonplaceholder.typicode.com/posts/1").then(t=>t.json()).then(t=>{t&&(e.target.classList.add("btn_cart"),e.target.innerHTML='<img src="./assets/img/ok.svg" alt="ok"></img> В корзине',n())})},1e3))})});const n=()=>{let e=[];s.forEach(t=>{t.classList.contains("btn_cart")&&e.push({id:t.id,inCart:!0})}),localStorage.setItem("btns",JSON.stringify(e))}});